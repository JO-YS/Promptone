<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Voice Generator</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <script defer src="js/main.js"></script>

</head>
<template id="voiceCardTemplate">
  <div class="voiceCard">
    <div class="voice-card-row">
      <div class="voice-info">
        <strong class="displayName">Display Name</strong>
        <p class="displayLanguage">Language (Locale)</p>
        <p class="genderAccent">Gender / Accent</p>
        <div class="style-badges"></div>
      </div>
      <div class="voice-action">
        <button class="selectVoiceBtn">Use this voice</button>
      </div>
    </div>
  </div>
</template>
<body>
  <div class="container">
    <h1>AI Voice Generator</h1>

    <!-- 🎤 선택된 음성 & 버튼 카드 -->
    <div class="card voice-selection-card">
      <div class="voice-selection-row">
        <div id="selectedVoiceInfo" class="voice-info-display">
          No voice selected
        </div>
        <button id="openVoicePickerBtn">Select Voice</button>
      </div>
    </div>

    <!-- 🎛️ 설정 카드 -->
    <div class="card">
      <label for="prompt">Prompt (how should it sound?)</label>
      <textarea id="prompt" rows="2" placeholder="예: Speak gently and cheerfully like a friendly assistant."></textarea>
    </div>

    <!-- 📝 입력 카드 -->
    <div class="card">
      <label for="text">Text</label>
      <textarea id="text" rows="2" placeholder="예: Hello! Welcome to our service. How can I help you today?" maxlength="3000"></textarea>
      <div id="charCount">0 / 3000</div>
    </div>

    <div class="format-convert-row" style="display: flex; align-items: center; gap: 16px; flex-wrap: wrap; justify-content: flex-end; margin-top: 32px;">
      <select id="output_format" class="styled-select">
        <option value="MP3">MP3 (Compressed)</option>
        <option value="WAV">WAV (Uncompressed)</option>
        <option value="FLAC">FLAC (Lossless)</option>
        <option value="ALAW">ALAW (Phone-quality, 8kHz)</option>
        <option value="ULAW">ULAW (Phone-quality, 8kHz)</option>
      </select>
      <button id="convertBtn">Convert</button>
    </div>
    <p id="status"></p>

    <!-- 🎧 결과 카드 -->
    <div class="card" id="resultSection">
      <div id="audioControls">
        <div id="customPlayer">
          <div class="player-row">
            <!-- ▶ 재생 버튼 -->
            <button id="playBtn" class="player-button"><i class="fas fa-play"></i></button>

            <!-- ⏱ 현재시간 / 전체시간 -->
            <span id="timeDisplay" class="time-label">0:00 / 0:00</span>

            <!-- 🔊 프로그레스바 -->
            <div style="position: relative; flex: 1; display: flex; align-items: center; gap: 12px;">
              <input id="progressBar" type="range" min="0" max="100" value="0">
              <!-- 🟡 툴팁 -->
              <div id="tooltipTime" class="progress-tooltip" style="display: none;">0:00</div>
              <div class="volume-control" style="display: flex; align-items: center; gap: 6px; margin-left: 12px;">
                <span id="volumeIcon" style="font-size: 20px; cursor: pointer;">🔊</span>
                <input id="volumeSlider" type="range" min="0" max="1" step="0.01" value="1" style="width: 70px;">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <a id="downloadBtn" download class="download-link" style="display: none;">Download</a>
      <audio id="audioPlayer" style="display: none;"></audio>
      <a id="downloadLink" style="display: none;" download></a>
  </div>

  <!-- 📋 음성 선택 패널 (숨김 기본) -->
  <div id="voicePickerPanel" class="modal hidden">
    <div class="modal-content">
      <button id="closeVoicePickerBtn" class="close-btn">✖</button>

      <h2>Select a Voice</h2>

      <div class="search-box">
        <span class="search-icon"><i class="fas fa-search"></i></span>
        <input type="text" id="voiceSearch" placeholder="Search by name, accent, style...">
      </div>


      <!-- ✅ 체크박스 기반 필터 -->
      <div class="filter-row">
        <div class="filter-group collapsible" id="groupLocale">
          <button class="filter-toggle">Locale ▼</button>
          <div class="checkbox-list"></div>
        </div>
        <div class="filter-group collapsible" id="groupAccent">
          <button class="filter-toggle">Accent ▼</button>
          <div class="checkbox-list"></div>
        </div>
        <div class="filter-group collapsible" id="groupGender">
          <button class="filter-toggle">Gender ▼</button>
          <div class="checkbox-list"></div>
        </div>
        <div class="filter-group collapsible" id="groupStyle">
          <button class="filter-toggle">Style ▼</button>
          <div class="checkbox-list"></div>
        </div>
        <div class="filter-group collapsible" id="groupAge">
          <button class="filter-toggle">Age ▼</button>
          <div class="checkbox-list"  ></div>
        </div>
      </div>


      <!-- ✅ 필터 요약 및 초기화 -->
      <div class="filter-summary-bar">
        <div id="activeFilters" class="active-filters">No filters applied.</div>
        <button id="clearFiltersBtn" class="clear-btn">Clear All</button>
      </div>

      <div id="voiceResults" class="voice-grid">
        <!-- JS로 카드 삽입 -->
      </div>
    </div>
  </div>
</body>
</html>

